(function(n){"use strict";function t(){function y(){var r,e,o;i=n('<div class="fg-time-wrap fg-time-n2'+(t.options.modal?" fg-time-wrap-modal":"")+'">    <div class="fg-time-clock fg-time-init">        <div class="fg-time-deg fg-time-n">            <div class="fg-time-select">                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 100 35.4" enable-background="new 0 0 100 35.4" xml:space="preserve">                    <g fill="none" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10">                        <path d="M98.1,33C85.4,21.5,68.5,14.5,50,14.5S14.6,21.5,1.9,33"/>                        <line x1="1.9" y1="33" x2="1.9" y2="28.6"/>                        <line x1="1.9" y1="33" x2="6.3" y2="33"/>                        <line x1="98.1" y1="33" x2="93.7" y2="33"/>                        <line x1="98.1" y1="33" x2="98.1" y2="28.6"/>                    <\/g>                <\/svg>            <\/div>        <\/div>        <div class="fg-time-lancette"><div/><div/><\/div>        <div class="fg-time-time"><\/div>        <div class="fg-time-pad fg-time-hour"><\/div>        <div class="fg-time-pad fg-time-minute"><\/div>    <\/div><\/div >').appendTo(n("body"));t.options.modal&&t.options.title&&n("<div>").addClass("fg-time-title").text(t.options.title).appendTo(i);i.find(".fg-time-clock").css({color:t.options.textColor,background:t.options.backgroundColor,"box-shadow":"0 0 0 1px "+t.options.borderColor+",0 0 0 8px rgba(0, 0, 0, 0.05)"});i.find(".fg-time-pad-on").css({"border-bottom-color":t.options.primaryColor});i.find(".fg-time-clock:before").css({"border-color":t.options.borderColor,background:t.options.backgroundColor});i.find(".fg-time-select:after").css({"box-shadow":"0 0 0 1px "+t.options.borderColor,background:t.options.backgroundColor});i.find(".fg-time-lancette").css({border:"2px solid "+t.options.primaryColor,opacity:.1});i.find(".fg-time-lancette div:after").css({background:t.options.primaryColor});i.find(".fg-time-bulletpoint div:after").css({background:t.options.primaryColor,opacity:.1});i.find("svg").attr("style","stroke:"+t.options.borderColor);i.find(".fg-time-hour").on("click",function(){c("h")});i.find(".fg-time-minute").on("click",function(){c("m")});i.find(".fg-time-deg").on("touchstart mousedown",function(n){n.preventDefault();u=k();u.begin()});if(t.options.mousewheel)i.on("mousewheel",p);n(document).on("touchend mouseup",a);i.removeClass("fg-time-fadeout");i.addClass("fg-time-show").addClass("fg-time-"+t.options.init_animation);f=n("<div>").addClass("fg-time-overlay").appendTo("body");f.on("click",w);r=i.children(".fg-time-clock");t.options.modal?f.addClass("fg-time-overlay-modal"):(e=t.$elem.offset(),o=i.parent().offset(),r.css({top:e.top-o.top+(t.$elem.outerHeight()-8),left:e.left-o.left+t.$elem.outerWidth()/2-r.outerWidth()/2}));r.hasClass("fg-time-init")&&(v=setInterval(function(){i.find(".fg-time-select").addClass("fg-time-alert");setTimeout(function(){i&&i.find(".fg-time-select").removeClass("fg-time-alert")},1e3)},2e3),r.removeClass("fg-time-init"))}function p(n){n.preventDefault();i.find(".fg-time-deg").removeClass("fg-time-n")}function a(){i.find(".fg-time-deg").addClass("fg-time-n");u&&u.end();u=null}function w(){i.addClass("fg-time-fadeout").removeClass("fg-time-"+t.options.init_animation);f.addClass("fg-time-fadeout").removeClass("fg-time-"+t.options.init_animation);setTimeout(function(){clearInterval(v);f.remove();n(document).off("touchend mouseup",a);u&&u.end();i.remove();i=f=u=null},300)}function c(n){h=n;l();s()}function l(){r.hour=Math.round(e*15);r.minute=Math.round(o*6);r.knob=h==="m"?r.minute:r.hour}function b(){e=Math.round(r.hour/15)%24;o=Math.round(r.minute/6)%60}function s(){var f=moment({hour:e,minute:o}),n,s,u;f.locale(t.options.locale);n=f.format("LT");t.$elem.val(n).trigger("change");i&&(i.find(".fg-time-time").text(n),s=i.find(".fg-time-pad").removeClass("fg-time-pad-on"),s.eq(h==="m"?1:0).addClass("fg-time-pad-on"),i.find(".fg-time-deg").css("transform","rotate("+r.knob+"deg)"),u=i.find(".fg-time-lancette div"),u.eq(0).css("transform","rotate("+r.hour+"deg)"),u.eq(1).css("transform","rotate("+r.minute+"deg)"))}function k(){function e(n){var e=d&&n.originalEvent.touches&&n.originalEvent.touches[0]||n,o=u.y-e.pageY,c=u.x-e.pageX,i=Math.atan2(o,c)*180/Math.PI;i<0&&(i=360+i);t<0&&(t=i);r.knob=(360+Math.floor(i-t+f))%360;h==="m"?r.minute=r.knob:r.hour=r.knob;b();s()}var u,f,t;return{begin:function(){f=r.knob;t=-1;i.find(".fg-time-deg").removeClass("fg-time-n");var o=i.offset();u={y:o.top+i.height()/2,x:o.left+i.width()/2};n(window).on("touchmove mousemove",e)},end:function(){n(window).off("touchmove mousemove",e)}}}var t={},i,f,h,u,v,e,o,r={},d=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return t.getHour=function(){return e},t.setHour=function(n){e=Math.max(0,Math.min(23,n));l();s()},t.getMinute=function(){return o},t.setMinute=function(n){o=Math.max(0,Math.min(59,n));l();s()},t.from=function(n){var i=moment(n);t.setHour(i.hour());t.setMinute(i.minute())},t.init=function(i,r){t.$elem=n(r);t.options=n.extend({},n.fn.fgTimeDropper.options,i);t.$elem.prop({readonly:!0}).addClass("fg-time-input");t.$elem.focus(function(n){n.preventDefault();t.$elem.blur()});t.$elem.click(function(){y();c("h")})},t}n.fn.fgTimeDropper=function(i){return this.each(function(){var r=t();r.init(i,this);n(this).data("fgTimeDropper",r)})};n.fn.fgTimeDropper.options={locale:null,mousewheel:!1,init_animation:"fadein",primaryColor:"#1977CC",borderColor:"#1977CC",backgroundColor:"#FFF",textColor:"#555",modal:!1,title:null}})(jQuery);